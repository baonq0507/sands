import{_ as B}from"./Header-C_d6U9Mw.js";import{i as r}from"./axios-Dkq8iht1.js";import{r as p,o as N,b as o,c as f,d as v,w as e,e as t,g as h,h as m,i as G,G as u}from"./index-BIJFk_Lq.js";const L={style:{background:"#fff",padding:"12px",minHeight:"calc(100vh - 170px)"}},M=h("h3",null,"Mã mời",-1),H={__name:"InviteCode",setup(T){const n=p({url:""}),c=p(null);N(()=>{r.get("/me/profile").then(l=>{c.value=l.user,r.get("/invite").then(a=>{n.value=a})})});const g=async l=>{var s;const a={...l},_=u.load(1);r.put(`/invite/${(s=n.value)==null?void 0:s._id}`,a).then(i=>{u.msg("Cập nhật thành công",{icon:1,time:1500})}).catch(i=>{u.msg("Cập nhật thất bại",{icon:2,time:1500})}).finally(()=>{u.close(_)})},y=l=>{console.log("Failed:",l)};return(l,a)=>{const _=o("a-input"),s=o("a-form-item"),i=o("a-radio"),b=o("a-radio-group"),x=o("a-button"),C=o("a-form"),F=o("a-col"),k=o("a-row"),V=o("a-layout-content"),w=o("a-layout");return f(),v(w,null,{default:e(()=>[t(B,{selectedKeys:["8"]}),t(V,{style:{padding:"20px 50px"}},{default:e(()=>[h("div",L,[M,t(k,null,{default:e(()=>[t(F,{span:24},{default:e(()=>[t(C,{model:n.value,onFinish:g,onFinishFailed:y,layout:"vertical"},{default:e(()=>[t(s,{label:"Code",name:"code",rules:[{required:!0,message:"Vui lòng nhập code"}]},{default:e(()=>[t(_,{value:n.value.code,"onUpdate:value":a[0]||(a[0]=d=>n.value.code=d)},null,8,["value"])]),_:1}),t(s,{label:"Lời nhắc đăng ký thành viên",name:"status"},{default:e(()=>[t(b,{value:n.value.status,"onUpdate:value":a[1]||(a[1]=d=>n.value.status=d)},{default:e(()=>[t(i,{value:"active"},{default:e(()=>[m("Bật")]),_:1}),t(i,{value:"inactive"},{default:e(()=>[m("Tắt")]),_:1})]),_:1},8,["value"])]),_:1}),c.value&&c.value.permissions.inviteCode.includes("edit")?(f(),v(s,{key:0},{default:e(()=>[t(x,{type:"primary","html-type":"submit"},{default:e(()=>[m("Gửi")]),_:1})]),_:1})):G("",!0)]),_:1},8,["model"])]),_:1})]),_:1})])]),_:1})]),_:1})}}};export{H as default};
